import chalk from 'chalk';
import gradient from 'gradient-string';

import { Colors } from '../utils/enums';

export default function intro(columns: number | undefined): string {
  const customGradient = gradient([
    { color: Colors.BLUE, pos: 0 },
    { color: Colors.BRIGHTMAGENTA, pos: 0.5 },
    { color: Colors.BRIGHTGREEN, pos: 0.7 },
  ]);

  const colorTitle = (str: string) => {
    const chars = {
      bg: chalk.hex(Colors.BRIGHTBLUE).bgHex(Colors.BLUE)('░'),
      fg: chalk.hex(Colors.BRIGHTMAGENTA).bgHex(Colors.BLUE)('█'),
      shdw: (char: '╔' | '╗' | '╚' | '╝' | '═' | '║') =>
        chalk.hex(Colors.BRIGHTGREEN).bgHex(Colors.BLUE)(char),
    };

    return str
      .replaceAll('░', chars.bg)
      .replaceAll('█', chars.fg)
      .replaceAll('╔', chars.shdw('╔'))
      .replaceAll('╗', chars.shdw('╗'))
      .replaceAll('╚', chars.shdw('╚'))
      .replaceAll('╝', chars.shdw('╝'))
      .replaceAll('═', chars.shdw('═'))
      .replaceAll('║', chars.shdw('║'));
  };

  const lg = `
  ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
  ░░░██████╗░███████╗░█████╗░░█████╗░████████╗░░░░░░░██████╗████████╗░█████╗░██████╗░████████╗███████╗██████╗░░░░
  ░░░██╔══██╗██╔════╝██╔══██╗██╔══██╗╚══██╔══╝░░░░░░██╔════╝╚══██╔══╝██╔══██╗██╔══██╗╚══██╔══╝██╔════╝██╔══██╗░░░
  ░░░██████╔╝█████╗░░███████║██║░░╚═╝░░░██║░░░█████╗╚█████╗░░░░██║░░░███████║██████╔╝░░░██║░░░█████╗░░██████╔╝░░░
  ░░░██╔══██╗██╔══╝░░██╔══██║██║░░██╗░░░██║░░░╚════╝░╚═══██╗░░░██║░░░██╔══██║██╔══██╗░░░██║░░░██╔══╝░░██╔══██╗░░░
  ░░░██║░░██║███████╗██║░░██║╚█████╔╝░░░██║░░░░░░░░░██████╔╝░░░██║░░░██║░░██║██║░░██║░░░██║░░░███████╗██║░░██║░░░
  ░░░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝░╚════╝░░░░╚═╝░░░░░░░░░╚═════╝░░░░╚═╝░░░╚═╝░░╚═╝╚═╝░░╚═╝░░░╚═╝░░░╚══════╝╚═╝░░╚═╝░░░
  ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
  `;

  const md = `
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
░█████╗░█████╗░████╗░░████╗██████╗░░█████╗██████╗░████╗░█████╗░██████╗█████╗█████╗░░
░██╔═██╗██╔══╝██╔═██╗██╔══╝╚═██╔═╝░░██╔══╝╚═██╔═╝██╔═██╗██╔═██╗╚═██╔═╝██╔══╝██╔═██╗░
░█████╔╝████╗░██████║██║░░░░░██║███╗█████╗░░██║░░██████║█████╔╝░░██║░░████╗░█████╔╝░
░██╔═██╗██╔═╝░██╔═██║██║░░░░░██║╚══╝╚══██║░░██║░░██╔═██║██╔═██╗░░██║░░██╔═╝░██╔═██╗░
░██║░██║█████╗██║░██║╚████╗░░██║░░░░█████║░░██║░░██║░██║██║░██║░░██║░░█████╗██║░██║░
░╚═╝░╚═╝╚════╝╚═╝░╚═╝░╚═══╝░░╚═╝░░░░╚════╝░░╚═╝░░╚═╝░╚═╝╚═╝░╚═╝░░╚═╝░░╚════╝╚═╝░╚═╝░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
`;

  const sm = `
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
░███░░███░░██░░░██░███░░███░███░░██░░███░░███░███░███░░░
░█░░█░█░░░█░░█░█░░░░█░░░█░░░░█░░█░░█░█░░█░░█░░█░░░█░░█░░
░███░░██░░████░█░░░░█░█░███░░█░░████░███░░░█░░██░░███░░░
░█░░█░█░░░█░░█░█░░░░█░░░░░█░░█░░█░░█░█░░█░░█░░█░░░█░░█░░
░█░░█░███░█░░█░░██░░█░░░███░░█░░█░░█░█░░█░░█░░███░█░░█░░
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
`;

  if (!columns) return `\n${chalk.bold.underline(customGradient('React-Starter'))}\n`;
  if (columns >= 120) return colorTitle(lg);
  if (columns >= 90) return colorTitle(md);
  if (columns >= 60) return colorTitle(sm);

  return `\n${chalk.bold.underline(customGradient('React-Starter'))}\n`;
}
